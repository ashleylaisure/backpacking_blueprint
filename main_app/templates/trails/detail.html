{% extends "base.html" %} {% load static %}
{% block head %}
<link rel="stylesheet" href="{% static "css/trails/trail-detail.css" %}">
{% endblock head %}

{% block content %}
<section class="container">
    <div class="img-container">
        <img src="" alt="">
    </div>
    <div class="trail-details">
        <h1>{{trail.name}}</h1>
        <h4>{{trail.start_date}} - {{trail.end_date}}</h4>
        <p>{{trail.location}}</p>
        <p>{{trail.distance}} miles</p>
        <p>{{trail.elevation}}</p>

        <div class="trail-actions">
            <a href="{% url "trail-update" trail.id%}" class="btn warn">Edit</a>
            <a href="{% url "trail-delete" trail.id%}" class="btn danger">Delete</a>
        </div>
    </div>
</section>

<section class="days-container">
    <div class="subsection-title">
        <h2>Itinerary</h2>
        <img src="" alt="">
        <img src="" alt="">
        <img src="" alt="">
    </div>

    {% for day in trail.day_set.all %}
    <div class="day-container">
        <div class="day-title">
            <h2>Day: {{day.day}} Date: {{day.date}}</h2>
            <p>{{day.start_location}} To {{day.finish_location}}</p>
        </div>
        <div class="day-details">
            <p>Distance: {{day.distance}} Elevation Gain: {{day.elevation}}</p>
            <p>Notes: {{day.notes}}</p>
        </div>

        <a href="{% url "update_day" day.id %}" class="btn warn">Edit</a>
    </div>
    {% endfor %}

</section>

<section class="gear">
    <div class="subsection-title">
        <h2>Gear</h2>
        <img src="" alt="">
        <img src="" alt="">
        <img src="" alt="">
    </div>
    <a href="{% url "available-gear-index" trail.id%}">
        <h3>Available Gear</h3>
    </a>
    <a href="{% url "trail-gear-details" trail.id%}">
        <h3>Gear Details</h3>
    </a>
    <div>
        <h2>Packing List</h2>
        <div class="subsection-content">
            {% if trail.gear.count %}

                {% for gear in trail.gear.all %}

                    {% if gear.packed == False %}

                        <form action="" method="post" autocomplete="off">
                            {% csrf_token %}
                            {{packed}}
                            <label for="packed">{{gear.name}}</label>
                        </form>
                    {% endif %}
                
                {% endfor %}
            {% else %}
            <p>No items on your packing list</p>
            {% endif %}
        </div>
    </div>

</section>
{% endblock content %}